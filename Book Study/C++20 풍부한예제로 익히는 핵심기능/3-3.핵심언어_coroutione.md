# 코루틴
* 함수의 제어흐름은 1번의 `호출`과 1번의 '반환'으로 이루어져 있습니다.
* 코루틴은 일시 정지, 재개를 여러 번 반복 할 수 있습니다. 
  * 일시 정지된 코루틴을 호출자가 파괴 할 수 있습니다. 
* `co_await`는 표현식 앞에 붙이는 단항 연산자입니다. 
  * 표현식을 일시 정지하거나 재개 할 수 있습니다.
* `co_yield`는 생성기 함수를 사용하는데 쓰입니다.?

### 생성기 함수
* 코루틴을 사용하지 않는 함수는 
```c++
// 코루틴을 사용하지 앟는 탐욕적 생성기 함수
std::vector<int> getNumber(int begin, int end , int inc = 1) {
    std::vector<int> numbers;
    for(int i = begin; i < end ; i += inc){
        numbers.push_back(i);
    }
    return numbers;
}

int main() {
    cout << '\n';

    const auto numbers = getNumber(-10, 11);
    for (auto n : numbers) cout << n << " ";
    cout << "\n\n";
    for (auto n : getNumber(0, 101, 5)) cout << n << " ";
    cout << "\n\n";
}
```

### 코루틴의 특징
* 코루틴은 이벤트 주도적 응용 프로그램을 작성할 때 흔히 사용됩니다. 
* 코루틴은 협조적 다중 태스팅(cooperative multitasking)에도 흔히 쓰입니다.
  * 각 작업 필요한 시간만큼 사용하되 sleep이나 waiting에 빠지지 않고 다른 작업에 시간을 양보합니다. 

### 코루틴 개념
* c++ 20의 코루틴은 비대칭, 일급, 스태없는 코루틴입니다.
* 비대칭 코루틴(asymmetric coroutine)이란 제어 흐름이 호출자에게로 돌아갑니다. 
* 일급 코루틴(first-class coroutine) 마치 데이터 처럼 행동하며 입급 함수와 비슷합니다. 
  * 일급 코루틴은 함수의 인수나 반환값으로 사용 될 수 있습니다.
* 스택 없는 코루틴은 최상위 코루틴의 실행을 일시 정지하거나 재개 할 수 있습니다. 
  * 호출된 코루틴이 제어 흐름을 양보하면 제어 흐름은 호출자로 돌아옵니다.
  * 실행 재개를 위해 코루틴은 자신의 상태를 스택과는 분리된 곳에 저장합니다.
  * 스택 없는 코루틴은 재개 가능 함수라고 부릅니다. 

### 코루틴 만들기